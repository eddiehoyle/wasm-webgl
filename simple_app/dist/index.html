<html>
<head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
</head>

<!--<div id="ui">-->
    <!--<div id="x"></div>-->
    <!--<div id="y"></div>-->
<!--</div>-->
<script src="webgl-lessons-ui.js"></script>
<script>
    delete WebAssembly.instantiateStreaming;
</script>
<script src='simple_app.js'></script>
<script>
    window.addEventListener('load', function () {
        window.wasm_bindgen('simple_app_bg.wasm')
            .then(function () {
                // // Start our rust application. You can find `WebClient` in `src/lib.rs`
                const webClient = new window.wasm_bindgen.WebClient()
                webClient.start()

                let time = Date.now();
                function render () {
                    const dt = Date.now() - time

                    webClient.update(dt)
                    webClient.render()
                    window.requestAnimationFrame(render)

                    time = Date.now()
                }

                render()
            })
    })
</script>
<!--<script>-->
    <!--"use strict";-->
    <!--function update(index) {-->
        <!--return function(event, ui) {-->
        <!--};-->
    <!--}-->
    <!--webglLessonsUI.setupSlider("#x", {slide: update(0), min: 0, max: 100, step: 0.1, precision: 1, });-->
    <!--webglLessonsUI.setupSlider("#y", {slide: update(0), min: 0, max: 100, step: 0.1, precision: 1, });-->
<!--</script>-->
<div id="container">
    <div id="simple_app"></div>
    <div id="ui">
        <form class="control">
            <label class="control-label">X</label>
            <input type="range" id="inputX" value="50" min="1" max="100" oninput="outputX.value=inputX.value">
            <output class="control-output" id="outputX">50</output>
        </form>
        <form class="control">
            <label class="control-label">Y</label>
            <input type="range" id="inputY" value="50" min="1" max="100" oninput="outputY.value=inputY.value">
            <output class="control-output" id="outputY">50</output>
        </form>
    </div>
</div>
<style>
    #ui {
        display: inline;
        float:left;
        background-color: aquamarine;
        font-size: 0;
    }
    .control {
        background-color: burlywood;
        padding: 5px;
    }
    .control-label, .control-output {
        font-family: Arial;
        font-size: 16px;
        margin: 0 5 0 5;
    }
    #simple_app {
        display: inline;
        float:left;
    }
    label {
        display: inline-block;
    }
</style>
</body>
</html>
